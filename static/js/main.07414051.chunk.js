(this["webpackJsonpvacina-manaus"]=this["webpackJsonpvacina-manaus"]||[]).push([[0],{116:function(t,e,a){},123:function(t,e,a){"use strict";a.r(e);var n=a(3),c=a(0),i=a.n(c),r=a(11),o=a.n(r),s=(a(116),a(83)),d=a(180),j=a(39),l=a(21),O=a(17),b=a(4),u=a(172),p=a(175),h=a(181),x=a(82),S=a.n(x),_=a(178),v=a(44),m=a(164);function C(){return Object(n.jsxs)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(m.a,{color:"inherit",onClick:function(){return window.open("https://github.com/pvfrota/vacina-manaus/blob/master/LICENSE.MD","_blank")},children:"#VacinaManaus"})," ",(new Date).getFullYear(),"."]})}var g=a(171),T=a(176),E=a(182),f=a(179),A=a(174),w=a(177),D=a(80),y=a.n(D),B=a(183),P=a(81),R=a.n(P),N=a(126),I=a(165),H=a(166),L=a(167),F=a(76),k=a.n(F),V=a(75),W=a.n(V),K=a(184),U=a(78),Y=a.n(U);function M(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(I.a,{button:!0,onClick:function(){return window.open(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"_self")},children:[Object(n.jsx)(H.a,{children:Object(n.jsx)(W.a,{})}),Object(n.jsx)(L.a,{primary:"\xcdnicio"})]}),Object(n.jsxs)(I.a,{button:!0,onClick:function(){return window.open(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL+"/metrics.html","_self")},children:[Object(n.jsx)(H.a,{children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(L.a,{primary:"Dados Atualizados"})]}),Object(n.jsx)(K.a,{title:"Compartilhe o #VacinaManaus:",url:"https://vacinamanaus.com",children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(H.a,{children:Object(n.jsx)(Y.a,{})}),Object(n.jsx)(L.a,{primary:"Compartilhar"})]})})]})}var z=a(185),G=a(173),J=a(168),X=a(169),q=Object(J.a)({cardContext:{flex:1}}),Q={year:"numeric",month:"long",weekday:"long",day:"numeric"};function Z(t){var e=t.vaccinesApplied,a=q();return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(v.a,{component:"h2",variant:"h5",gutterBottom:!0,children:"Vacinas aplicadas at\xe9 o momento"}),Object(n.jsx)(v.a,{component:"p",variant:"h3",children:e}),Object(n.jsx)(v.a,{className:a.cardContext,children:(new Date).toLocaleDateString("pt-br",Q)}),Object(n.jsx)("div",{children:Object(n.jsx)(X.a,{onClick:function(){return window.open(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL+"/metrics.html","_self")},variant:"contained",style:{color:"#1565c0",backgroundColor:"white",fontWeight:600},children:"Ver mais"})})]})}var $=a(170),tt=a(38),et=a.n(tt),at=a(79),nt=a(67),ct={amountVaccineByArea:[],vaccinationByDate:[],vaccinationStatistics:[]},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_VACCINE_BY_AREA":return Object(O.a)(Object(O.a)({},t),{},{amountVaccineByArea:e.amountVaccineByArea});case"FETCH_VACCINATION_BY_DATE":return Object(O.a)(Object(O.a)({},t),{},{vaccinationByDate:e.vaccinationByDate});case"FETCH_VACCINATION_STATISTICS":return Object(O.a)(Object(O.a)({},t),{},{vaccinationStatistics:e.vaccinationStatistics});default:return t}},rt=Object(c.createContext)(),ot=function(t){var e=Object(c.useReducer)(it,[],(function(){return{vaccinationStatistics:[],vaccinationByDate:[]}})),a=Object(j.a)(e,2),i=a[0],r=a[1],o=Object(c.useCallback)(Object(at.a)(et.a.mark((function t(){var e,a;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(nt.a)("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ANALYTICS_URL,"/vaccination_count_statistics.csv"));case 2:return delete(e=t.sent)[0][""],t.next=6,Object(nt.a)("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ANALYTICS_URL,"/vaccine_date_count.csv"));case 6:a=t.sent,r({type:"FETCH_VACCINATION_STATISTICS",vaccinationStatistics:e}),r({type:"FETCH_VACCINATION_BY_DATE",vaccinationByDate:a});case 9:case"end":return t.stop()}}),t)}))),[]);return Object(c.useEffect)((function(){o()}),[o]),Object(n.jsx)(rt.Provider,{value:{vaccine:i,dispatch:r},children:t.children})},st=a(27),dt=Object(J.a)((function(t){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(O.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},t.mixins.toolbar),appBar:{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerPaperClose:Object(l.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}),appBarSpacer:t.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)},paper:{padding:t.spacing(3),margin:12,display:"flex",overflow:"auto",flexDirection:"column"},cardPrimary:{background:"linear-gradient(#1565c0, #9198e5)",color:"white",boxShadow:"rgba(0, 0, 0, 0.75) 0px 1px 10px 1px"},fixedHeight:{height:240}}})),jt={year:"numeric",month:"long",weekday:"long",day:"numeric"},lt=function(){var t=dt(),e=Object(st.a)(),a=Object($.a)(e.breakpoints.up("md")),i=Object(c.useContext)(rt).vaccine,r=Object(c.useState)(!1),o=Object(j.a)(r,2),s=o[0],d=o[1],l=Object(c.useState)(!0),x=Object(j.a)(l,2),m=x[0],D=x[1],P=Object(c.useState)({badge:1,alert:!1}),I=Object(j.a)(P,2),H=I[0],L=I[1],F=Object(b.a)(t.paper,t.cardPrimary,t.fixedHeight),k=Object(c.useCallback)((function(t,e){t.forEach((function(t){parseInt(t.count)})),D(!1)}),[]),V=function(){d(!s)};return Object(c.useEffect)((function(){i.vaccinationByDate.length>0&&i.vaccinationStatistics.length>0&&(k(i.vaccinationByDate,i.vaccinationStatistics),d(!!a))}),[k,i,a]),Object(n.jsx)("div",{children:m?Object(n.jsx)("div",{children:" Carregando... "}):Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(g.a,{}),Object(n.jsx)(u.a,{position:"absolute",className:Object(b.a)(t.appBar,s&&t.appBarShift),children:Object(n.jsxs)(G.a,{className:t.toolbar,children:[Object(n.jsx)(A.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:V,className:Object(b.a)(t.menuButton,s&&t.menuButtonHidden),children:Object(n.jsx)(y.a,{})}),Object(n.jsx)(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"#VacinaManaus"}),Object(n.jsx)(A.a,{onClick:function(){return L({badge:0,alert:!0})},color:"inherit",children:Object(n.jsx)(p.a,{badgeContent:H.badge,color:"secondary",children:Object(n.jsx)(R.a,{})})})]})}),Object(n.jsxs)(E.a,{variant:"permanent",classes:{paper:Object(b.a)(t.drawerPaper,!s&&t.drawerPaperClose)},open:s,children:[Object(n.jsx)("div",{className:t.toolbarIcon,children:Object(n.jsx)(A.a,{onClick:V,children:Object(n.jsx)(S.a,{})})}),Object(n.jsx)(T.a,{}),Object(n.jsx)(w.a,{children:Object(n.jsx)(M,{})})]}),Object(n.jsxs)("main",{className:t.content,children:[Object(n.jsx)("div",{className:t.appBarSpacer}),Object(n.jsxs)(_.a,{maxWidth:"xl",className:t.container,children:[Object(n.jsx)(f.a,{container:!0,spacing:3,children:Object(n.jsx)(f.a,{item:!0,xs:12,md:6,lg:6,children:Object(n.jsx)(N.a,{className:F,children:Object(n.jsx)(Z,{vaccinesApplied:i.vaccinationStatistics[0].vaccinated})})})}),Object(n.jsx)(h.a,{pt:4,children:Object(n.jsx)(C,{})})]}),Object(n.jsx)(z.a,{open:H.alert,autoHideDuration:5e3,onClose:function(){return L(Object(O.a)(Object(O.a)({},H),{},{alert:!1}))},children:Object(n.jsxs)(B.a,{severity:"success",onClose:function(){return L(Object(O.a)(Object(O.a)({},H),{},{alert:!1}))},children:["\xdaltima atualiza\xe7\xe3o dos dados:"," ",(new Date).toLocaleDateString("pt-br",jt)]})})]})]})})},Ot=Object(s.a)({palette:{primary:{main:"#1565c0"}}}),bt=function(){return Object(n.jsx)(d.a,{theme:Ot,children:Object(n.jsx)(lt,{})})},ut=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,188)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;a(t),n(t),c(t),i(t),r(t)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(ot,{children:Object(n.jsx)(bt,{})})}),document.getElementById("root")),ut()}},[[123,1,2]]]);
//# sourceMappingURL=main.07414051.chunk.js.map