(this["webpackJsonpvacina-manaus"]=this["webpackJsonpvacina-manaus"]||[]).push([[0],{116:function(t,a,e){},123:function(t,a,e){"use strict";e.r(a);var n=e(3),c=e(0),i=e.n(c),r=e(11),s=e.n(r),o=(e(116),e(83)),l=e(180),j=e(39),d=e(21),b=e(17),u=e(4),h=e(172),p=e(175),O=e(181),x=e(82),m=e.n(x),g=e(178),v=e(44),f=e(164);function w(){return Object(n.jsxs)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(f.a,{color:"inherit",onClick:function(){return window.open("https://github.com/pvfrota/vacina-manaus/blob/master/LICENSE.MD","_blank")},children:"#VacinaManaus"})," ",(new Date).getFullYear(),"."]})}var C=e(171),y=e(176),S=e(182),B=e(179),I=e(174),k=e(177),A=e(80),N=e.n(A),_=e(183),T=e(81),D=e.n(T),E=e(126),F=e(165),V=e(166),H=e(167),P=e(76),M=e.n(P),L=e(75),z=e.n(L),R=e(184),Y=e(78),W=e.n(Y);function G(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(F.a,{button:!0,onClick:function(){return window.open("https://www.vacinamanaus.com","_self")},children:[Object(n.jsx)(V.a,{children:Object(n.jsx)(z.a,{})}),Object(n.jsx)(H.a,{primary:"\xcdnicio"})]}),Object(n.jsxs)(F.a,{button:!0,onClick:function(){return window.open("https://www.vacinamanaus.com/metrics.html","_self")},children:[Object(n.jsx)(V.a,{children:Object(n.jsx)(M.a,{})}),Object(n.jsx)(H.a,{primary:"Dados Atualizados"})]}),Object(n.jsx)(R.a,{title:"Compartilhe o #VacinaManaus:",url:"https://vacinamanaus.com",children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(V.a,{children:Object(n.jsx)(W.a,{})}),Object(n.jsx)(H.a,{primary:"Compartilhar"})]})})]})}var J=e(185),X=e(173),q=e(168),K=e(169),Q=Object(q.a)({cardContext:{flex:1}}),U={year:"numeric",month:"long",weekday:"long",day:"numeric"};function Z(t){var a=t.vaccinesApplied,e=Q();return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(v.a,{component:"h2",variant:"h5",gutterBottom:!0,children:"Vacinas aplicadas at\xe9 o momento"}),Object(n.jsx)(v.a,{component:"p",variant:"h3",children:a}),Object(n.jsx)(v.a,{className:e.cardContext,children:(new Date).toLocaleDateString("pt-br",U)}),Object(n.jsx)("div",{children:Object(n.jsx)(K.a,{onClick:function(){return window.open("https://www.vacinamanaus.com/metrics.html","_self")},variant:"contained",style:{color:"#1565c0",backgroundColor:"white",fontWeight:600},children:"Ver mais"})})]})}var $=e(170),tt=e(38),at=e.n(tt),et=e(79),nt=e(67),ct={amountVaccineByArea:[],vaccinationByDate:[],vaccinationStatistics:[]},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_VACCINE_BY_AREA":return Object(b.a)(Object(b.a)({},t),{},{amountVaccineByArea:a.amountVaccineByArea});case"FETCH_VACCINATION_BY_DATE":return Object(b.a)(Object(b.a)({},t),{},{vaccinationByDate:a.vaccinationByDate});case"FETCH_VACCINATION_STATISTICS":return Object(b.a)(Object(b.a)({},t),{},{vaccinationStatistics:a.vaccinationStatistics});default:return t}},rt=Object(c.createContext)(),st=function(t){var a=Object(c.useReducer)(it,[],(function(){return{vaccinationStatistics:[],vaccinationByDate:[]}})),e=Object(j.a)(a,2),i=e[0],r=e[1],s=Object(c.useCallback)(Object(et.a)(at.a.mark((function t(){var a,e;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(nt.a)("".concat("https://raw.githubusercontent.com/CodeForManaus/vacina-manaus-backend/master/analytics","/vaccination_count_statistics.csv"));case 2:return delete(a=t.sent)[0][""],t.next=6,Object(nt.a)("".concat("https://raw.githubusercontent.com/CodeForManaus/vacina-manaus-backend/master/analytics","/vaccine_date_count.csv"));case 6:e=t.sent,r({type:"FETCH_VACCINATION_STATISTICS",vaccinationStatistics:a}),r({type:"FETCH_VACCINATION_BY_DATE",vaccinationByDate:e});case 9:case"end":return t.stop()}}),t)}))),[]);return Object(c.useEffect)((function(){s()}),[s]),Object(n.jsx)(rt.Provider,{value:{vaccine:i,dispatch:r},children:t.children})},ot=e(27),lt=Object(q.a)((function(t){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},t.mixins.toolbar),appBar:{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}),appBarSpacer:t.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)},paper:{padding:t.spacing(3),margin:12,display:"flex",overflow:"auto",flexDirection:"column"},cardPrimary:{background:"linear-gradient(#1565c0, #9198e5)",color:"white",boxShadow:"rgba(0, 0, 0, 0.75) 0px 1px 10px 1px"},fixedHeight:{height:240}}})),jt={year:"numeric",month:"long",weekday:"long",day:"numeric"},dt=function(){var t=lt(),a=Object(ot.a)(),e=Object($.a)(a.breakpoints.up("md")),i=Object(c.useContext)(rt).vaccine,r=Object(c.useState)(!1),s=Object(j.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(!0),x=Object(j.a)(d,2),f=x[0],A=x[1],T=Object(c.useState)({badge:1,alert:!1}),F=Object(j.a)(T,2),V=F[0],H=F[1],P=Object(u.a)(t.paper,t.cardPrimary,t.fixedHeight),M=Object(c.useCallback)((function(t,a){t.forEach((function(t){parseInt(t.count)})),A(!1)}),[]),L=function(){l(!o)};return Object(c.useEffect)((function(){i.vaccinationByDate.length>0&&i.vaccinationStatistics.length>0&&(M(i.vaccinationByDate,i.vaccinationStatistics),l(!!e))}),[M,i,e]),Object(n.jsx)("div",{children:f?Object(n.jsx)("div",{children:" Carregando... "}):Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(C.a,{}),Object(n.jsx)(h.a,{position:"absolute",className:Object(u.a)(t.appBar,o&&t.appBarShift),children:Object(n.jsxs)(X.a,{className:t.toolbar,children:[Object(n.jsx)(I.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:L,className:Object(u.a)(t.menuButton,o&&t.menuButtonHidden),children:Object(n.jsx)(N.a,{})}),Object(n.jsx)(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"#VacinaManaus"}),Object(n.jsx)(I.a,{onClick:function(){return H({badge:0,alert:!0})},color:"inherit",children:Object(n.jsx)(p.a,{badgeContent:V.badge,color:"secondary",children:Object(n.jsx)(D.a,{})})})]})}),Object(n.jsxs)(S.a,{variant:"permanent",classes:{paper:Object(u.a)(t.drawerPaper,!o&&t.drawerPaperClose)},open:o,children:[Object(n.jsx)("div",{className:t.toolbarIcon,children:Object(n.jsx)(I.a,{onClick:L,children:Object(n.jsx)(m.a,{})})}),Object(n.jsx)(y.a,{}),Object(n.jsx)(k.a,{children:Object(n.jsx)(G,{})})]}),Object(n.jsxs)("main",{className:t.content,children:[Object(n.jsx)("div",{className:t.appBarSpacer}),Object(n.jsxs)(g.a,{maxWidth:"xl",className:t.container,children:[Object(n.jsx)(B.a,{container:!0,spacing:3,children:Object(n.jsx)(B.a,{item:!0,xs:12,md:6,lg:6,children:Object(n.jsx)(E.a,{className:P,children:Object(n.jsx)(Z,{vaccinesApplied:i.vaccinationStatistics[0].vaccinated})})})}),Object(n.jsx)(O.a,{pt:4,children:Object(n.jsx)(w,{})})]}),Object(n.jsx)(J.a,{open:V.alert,autoHideDuration:5e3,onClose:function(){return H(Object(b.a)(Object(b.a)({},V),{},{alert:!1}))},children:Object(n.jsxs)(_.a,{severity:"success",onClose:function(){return H(Object(b.a)(Object(b.a)({},V),{},{alert:!1}))},children:["\xdaltima atualiza\xe7\xe3o dos dados:"," ",(new Date).toLocaleDateString("pt-br",jt)]})})]})]})})},bt=Object(o.a)({palette:{primary:{main:"#1565c0"}}}),ut=function(){return Object(n.jsx)(l.a,{theme:bt,children:Object(n.jsx)(dt,{})})},ht=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,188)).then((function(a){var e=a.getCLS,n=a.getFID,c=a.getFCP,i=a.getLCP,r=a.getTTFB;e(t),n(t),c(t),i(t),r(t)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(st,{children:Object(n.jsx)(ut,{})})}),document.getElementById("root")),ht()}},[[123,1,2]]]);
//# sourceMappingURL=main.541b0e3f.chunk.js.map