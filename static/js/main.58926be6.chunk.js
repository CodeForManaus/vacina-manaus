(this["webpackJsonpvacina-manaus"]=this["webpackJsonpvacina-manaus"]||[]).push([[0],{115:function(t,a,e){},122:function(t,a,e){"use strict";e.r(a);var n=e(3),c=e(0),i=e.n(c),r=e(11),s=e.n(r),o=(e(115),e(81)),l=e(175),d=e(30),j=e(4),u=e(124),b=e(160),h=e(43),p=e(162),O=Object(b.a)({cardContext:{flex:1}}),x={year:"numeric",month:"long",weekday:"long",day:"numeric"};function m(t){var a=t.vaccinesApplied,e=O();return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(h.a,{component:"h2",variant:"h5",gutterBottom:!0,children:"Vacinas aplicadas at\xe9 o momento"}),Object(n.jsx)(h.a,{component:"p",variant:"h3",children:a}),Object(n.jsx)(h.a,{className:e.cardContext,children:(new Date).toLocaleDateString("pt-br",x)}),Object(n.jsx)("div",{children:Object(n.jsx)(p.a,{onClick:function(){return window.open("https://www.vacinamanaus.com/metrics.html","_self")},variant:"contained",style:{color:"#1565c0",backgroundColor:"white",fontWeight:600},children:"Ver mais"})})]})}var v=e(39),g=e.n(v),f=e(73),w=e(66),C=e(17),y={amountVaccineByArea:[],vaccinationByDate:[],vaccinationStatistics:[]},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_VACCINE_BY_AREA":return Object(C.a)(Object(C.a)({},t),{},{amountVaccineByArea:a.amountVaccineByArea});case"FETCH_VACCINATION_BY_DATE":return Object(C.a)(Object(C.a)({},t),{},{vaccinationByDate:a.vaccinationByDate});case"FETCH_VACCINATION_STATISTICS":return Object(C.a)(Object(C.a)({},t),{},{vaccinationStatistics:a.vaccinationStatistics});default:return t}},B=Object(c.createContext)(),A=function(t){var a=Object(c.useReducer)(S,[],(function(){return{vaccinationStatistics:[],vaccinationByDate:[]}})),e=Object(d.a)(a,2),i=e[0],r=e[1],s=Object(c.useCallback)(Object(f.a)(g.a.mark((function t(){var a,e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.a)("".concat("https://raw.githubusercontent.com/CodeForManaus/vacina-manaus-backend/master/analytics","/vaccination_count_statistics.csv"));case 2:return delete(a=t.sent)[0][""],t.next=6,Object(w.a)("".concat("https://raw.githubusercontent.com/CodeForManaus/vacina-manaus-backend/master/analytics","/vaccine_date_count.csv"));case 6:e=t.sent,r({type:"FETCH_VACCINATION_STATISTICS",vaccinationStatistics:a}),r({type:"FETCH_VACCINATION_BY_DATE",vaccinationByDate:e});case 9:case"end":return t.stop()}}),t)}))),[]);return Object(c.useEffect)((function(){s()}),[s]),Object(n.jsx)(B.Provider,{value:{vaccine:i,dispatch:r},children:t.children})},I=e(25),N=e(168),_=e(171),k=e(176),T=e(80),D=e.n(T),E=e(174),F=e(163);function V(){return Object(n.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(F.a,{color:"inherit",onClick:function(){return window.open("https://github.com/pvfrota/vacina-manaus/blob/master/LICENSE.MD","_blank")},children:"#VacinaManaus"})," ",(new Date).getFullYear(),"."]})}var H=e(167),P=e(172),L=e(177),M=e(170),z=e(173),R=e(78),W=e.n(R),Y=e(178),G=e(79),J=e.n(G),X=e(164),q=e(165),K=e(166),Q=e(75),U=e.n(Q),Z=e(74),$=e.n(Z),tt=e(179),at=e(77),et=e.n(at);function nt(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(X.a,{button:!0,onClick:function(){return window.open("https://www.vacinamanaus.com","_self")},children:[Object(n.jsx)(q.a,{children:Object(n.jsx)($.a,{})}),Object(n.jsx)(K.a,{primary:"\xcdnicio"})]}),Object(n.jsxs)(X.a,{button:!0,onClick:function(){return window.open("https://www.vacinamanaus.com/metrics.html","_self")},children:[Object(n.jsx)(q.a,{children:Object(n.jsx)(U.a,{})}),Object(n.jsx)(K.a,{primary:"Dados Atualizados"})]}),Object(n.jsx)(tt.a,{title:"Compartilhe o #VacinaManaus:",url:"https://vacinamanaus.com",children:Object(n.jsxs)(X.a,{children:[Object(n.jsx)(q.a,{children:Object(n.jsx)(et.a,{})}),Object(n.jsx)(K.a,{primary:"Compartilhar"})]})})]})}var ct=e(180),it=e(169),rt=Object(b.a)((function(t){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},t.mixins.toolbar),appBar:{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerPaperClose:Object(I.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}),appBarSpacer:t.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4),minWidth:320}}})),st={year:"numeric",month:"long",weekday:"long",day:"numeric"},ot=function(t){var a=t.children,e=t.isLoading,i=void 0!==e&&e,r=rt(),s=Object(c.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1],b=Object(c.useState)({badge:1,alert:!1}),p=Object(d.a)(b,2),O=p[0],x=p[1],m=function(){u(!l)};return i?Object(n.jsx)("div",{children:" Carregando... "}):Object(n.jsxs)("div",{className:r.root,children:[Object(n.jsx)(H.a,{}),Object(n.jsx)(N.a,{position:"absolute",className:Object(j.a)(r.appBar,l&&r.appBarShift),children:Object(n.jsxs)(it.a,{className:r.toolbar,children:[Object(n.jsx)(M.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:m,className:Object(j.a)(r.menuButton,l&&r.menuButtonHidden),children:Object(n.jsx)(W.a,{})}),Object(n.jsx)(h.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:r.title,children:"#VacinaManaus"}),Object(n.jsx)(M.a,{onClick:function(){return x({badge:0,alert:!0})},color:"inherit",children:Object(n.jsx)(_.a,{badgeContent:O.badge,color:"secondary",children:Object(n.jsx)(J.a,{})})})]})}),Object(n.jsxs)(L.a,{anchor:"left",classes:{paper:Object(j.a)(r.drawerPaper,!l&&r.drawerPaperClose)},open:l,children:[Object(n.jsx)("div",{className:r.toolbarIcon,children:Object(n.jsx)(M.a,{onClick:m,children:Object(n.jsx)(D.a,{})})}),Object(n.jsx)(P.a,{}),Object(n.jsx)(z.a,{children:Object(n.jsx)(nt,{})})]}),Object(n.jsxs)("main",{className:r.content,children:[Object(n.jsx)("div",{className:r.appBarSpacer}),Object(n.jsx)(E.a,{maxWidth:"sm",className:r.container,children:a}),Object(n.jsx)(k.a,{pt:4,children:Object(n.jsx)(V,{})}),Object(n.jsx)(ct.a,{open:O.alert,autoHideDuration:5e3,onClose:function(){return x(Object(C.a)(Object(C.a)({},O),{},{alert:!1}))},children:Object(n.jsxs)(Y.a,{severity:"success",onClose:function(){return x(Object(C.a)(Object(C.a)({},O),{},{alert:!1}))},children:["\xdaltima atualiza\xe7\xe3o dos dados:"," ",(new Date).toLocaleDateString("pt-br",st)]})})]})]})},lt=Object(b.a)((function(t){return{paper:{padding:t.spacing(3),margin:12,display:"flex",overflow:"auto",flexDirection:"column"},cardPrimary:{background:"linear-gradient(#1565c0, #9198e5)",color:"white",boxShadow:"rgba(0, 0, 0, 0.75) 0px 1px 10px 1px",textAlign:"center"},fixedHeight:{minHeight:240}}})),dt=function(){var t,a,e=lt(),i=Object(c.useContext)(B).vaccine,r=Object(c.useState)(!0),s=Object(d.a)(r,2),o=s[0],l=s[1],b=Object(j.a)(e.paper,e.cardPrimary,e.fixedHeight),h=Object(c.useCallback)((function(t,a){t.forEach((function(t){parseInt(t.count)})),l(!1)}),[]);return Object(c.useEffect)((function(){i.vaccinationByDate.length>0&&i.vaccinationStatistics.length>0&&h(i.vaccinationByDate,i.vaccinationStatistics)}),[h,i]),Object(n.jsx)(ot,{isLoading:o,children:Object(n.jsx)(u.a,{className:b,children:Object(n.jsx)(m,{vaccinesApplied:null===i||void 0===i||null===(t=i.vaccinationStatistics)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.vaccinated})})})},jt=Object(o.a)({palette:{primary:{main:"#1565c0"}}}),ut=function(){return Object(n.jsx)(l.a,{theme:jt,children:Object(n.jsx)(dt,{})})},bt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,183)).then((function(a){var e=a.getCLS,n=a.getFID,c=a.getFCP,i=a.getLCP,r=a.getTTFB;e(t),n(t),c(t),i(t),r(t)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(A,{children:Object(n.jsx)(ut,{})})}),document.getElementById("root")),bt()}},[[122,1,2]]]);
//# sourceMappingURL=main.58926be6.chunk.js.map